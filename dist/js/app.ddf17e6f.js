(function(){"use strict";var e={1335:function(e,t,o){var n=o(5130),r=o(6768);function a(e,t,o,n,a,i){const s=(0,r.g2)("HomeView");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s)])}const i=(0,r.Lk)("div",{class:"logo"},"Ralph Maron Eda",-1),s={key:0},c={key:1};function d(e,t,o,n,a,d){const l=(0,r.g2)("PostContainer"),u=(0,r.g2)("CreatePost");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("header",null,[i,(0,r.Lk)("div",{class:"action",onClick:t[0]||(t[0]=(...e)=>d.showCreatePostModal&&d.showCreatePostModal(...e))},"New Post")]),(0,r.Lk)("main",null,[a.posts.length>0?((0,r.uX)(),(0,r.CE)("div",s,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.posts,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t},[(0,r.bF)(l,{description:e.description,date:e.create_date},null,8,["description","date"])])))),128))])):((0,r.uX)(),(0,r.CE)("div",c,[(0,r.bF)(l,{description:"No post available",date:"2024-08-03"})]))]),a.showModal?((0,r.uX)(),(0,r.Wv)(u,{key:0,onClose:d.hideCreatePostModal},null,8,["onClose"])):(0,r.Q3)("",!0)])}var l=o(4232);const u={class:"modal"},p=(0,r.Lk)("h3",null,"Create Post",-1),f={class:"text-field"},h=(0,r.Lk)("label",{for:"description"},"Description:",-1),v={key:0,class:"error"},m={class:"row"},w=(0,r.Lk)("button",{type:"submit"},"CREATE",-1);function b(e,t,o,a,i,s){return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(((...e)=>s.createPost&&s.createPost(...e)),["prevent"])),class:"card"},[p,(0,r.Lk)("div",f,[h,(0,r.bo)((0,r.Lk)("textarea",{name:"description",id:"description","onUpdate:modelValue":t[0]||(t[0]=e=>i.description=e)},null,512),[[n.Jo,i.description]])]),i.errorMessage?((0,r.uX)(),(0,r.CE)("div",v,(0,l.v_)(i.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",m,[w,(0,r.Lk)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>s.closeModal&&s.closeModal(...e))},"CLOSE")])],32)])}var g=o(6400),k=o(7617);const y={apiKey:"AIzaSyDqVWdBYj-uBKpYHqSaQ6WVFvjcLG5ml5U",authDomain:"blog-web-app-aea9d.firebaseapp.com",projectId:"blog-web-app-aea9d",storageBucket:"blog-web-app-aea9d.appspot.com",messagingSenderId:"709814163951",appId:"1:709814163951:web:92a507790b541ba2ea7e1a"},C=(0,g.Wp)(y),M=(0,k.aU)(C);var E={name:"CreatePost",data(){return{description:"",errorMessage:""}},methods:{async createPost(){try{const e=await(0,k.gS)((0,k.rJ)(M,"blogCollection"),{description:this.description,create_date:new Date});console.log("Document written with ID: ",e.id),this.description="",window.location.reload(),this.$emit("close")}catch(e){console.error("Error saving to firebase:",e)}},validateInput(){return""===this.description.trim()?(this.errorMessage="Description is required.",!1):(this.errorMessage="",!0)},closeModal(){this.$emit("close")}}},P=o(1241);const L=(0,P.A)(E,[["render",b]]);var D=L;const _={class:"post-container"},O={class:"post-content"},I={class:"post-date"};function X(e,t,o,n,a,i){return(0,r.uX)(),(0,r.CE)("div",_,[(0,r.Lk)("div",O,[(0,r.Lk)("p",null,(0,l.v_)(o.description),1),(0,r.Lk)("span",I,(0,l.v_)(o.date),1)])])}var j={name:"PostContainer",props:{description:{type:String,required:!0},date:{type:String,required:!0}}};const S=(0,P.A)(j,[["render",X],["__scopeId","data-v-882c31f4"]]);var x=S,A={name:"HomeIndex",components:{CreatePost:D,PostContainer:x},data(){return{showModal:!1,posts:[]}},methods:{async fetchData(){try{const e=await(0,k.GG)((0,k.rJ)(M,"blogCollection"));this.posts=e.docs.map((e=>{const t=e.data();return{id:e.id,...t,create_date:this.formatTimestamp(t.create_date instanceof k.Dc?t.create_date:new k.Dc(t.create_date.seconds,t.create_date.nanoseconds))}})).sort(((e,t)=>new Date(t.create_date)-new Date(e.create_date)))}catch(e){console.error("Error fetching data:",e)}},formatTimestamp(e){if(e instanceof k.Dc){const t=e.toDate(),o={day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",o).format(t).replace(",","").replace("/","•").replace("/","•")}return""},showCreatePostModal(){this.showModal=!0},hideCreatePostModal(){this.showModal=!1},handleKeydown(e){"n"===e.key||"N"===e.key?this.showCreatePostModal():"Escape"===e.key&&this.hideCreatePostModal()}},mounted(){window.addEventListener("keydown",this.handleKeydown),this.fetchData()},beforeUnmount(){window.removeEventListener("keydown",this.handleKeydown)}};const F=(0,P.A)(A,[["render",d]]);var K=F,T={name:"App",components:{HomeView:K}};const q=(0,P.A)(T,[["render",a]]);var U=q;(0,n.Ef)(U).mount("#app")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,n,r,a){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],a=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(l--,1);var d=r();void 0!==d&&(t=d)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,r,a]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,i=n[0],s=n[1],c=n[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var l=c(o)}for(t&&t(n);d<i.length;d++)a=i[d],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(l)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[504],(function(){return o(1335)}));n=o.O(n)})();
//# sourceMappingURL=app.ddf17e6f.js.map